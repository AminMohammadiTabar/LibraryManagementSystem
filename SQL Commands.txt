CREATE TABLE PERSON (ID NUMBER PRIMARY KEY ,NAME NVARCHAR2(20),LAST_NAME NVARCHAR2(20),MEMBERSHIP_START DATE);
CREATE TABLE BOOK (ID NUMBER PRIMARY KEY ,NAME NVARCHAR2(20), AUTHOR NVARCHAR2(20),AVAILABLE NUMBER(1));
CREATE TABLE BORROW (ID NUMBER PRIMARY KEY ,PERSON_ID REFERENCES PERSON,BOOK_ID REFERENCES BOOK
                    ,BORROW_DATE DATE,VALID NUMBER(1));
CREATE SEQUENCE PERSON_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE BORROW_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE BOOK_SEQ START WITH 1 INCREMENT BY 1;
SELECT PERSON_SEQ.NEXTVAL FROM DUAL;
SELECT BOOK_SEQ.NEXTVAL id FROM DUAL;
CREATE TABLE TEST (ID NUMBER,NAME NVARCHAR2(20));
INSERT INTO TEST VALUES (1,'AMIN');
CREATE SEQUENCE TEST_SEQ START WITH 2 INCREMENT BY 1;
DELETE FROM TEST WHERE ID=1;
SELECT * FROM PERSON;
INSERT INTO PERSON VALUES (PERSON_SEQ.NEXTVAL,'Amin','Mohammadi','02-JUN-1998');
DROP TABLE BORROW;
CREATE VIEW BORROW_INFO AS
    SELECT BO.ID AS BORROW_ID,
           P.NAME AS NAME,
           P.LAST_NAME AS LAST_NAME,
           B.NAME AS BOOK_NAME,
           BO.BORROW_DATE AS BORROW_DATE,
           BO.VALID AS VALIDATION
           FROM BOOK B,PERSON P,BORROW BO
    WHERE BO.PERSON_ID=P.ID AND BO.BOOK_ID=B.ID;
INSERT INTO BOOK VALUES (5,'JAVA','GOSLING',0);
SELECT AVAILABLE FROM BOOK WHERE ID=41;
SELECT BORROW_SEQ.nextval FROM DUAL;
DROP VIEW BORROW_INFO;
SELECT * FROM BOOK;
UPDATE BORROW SET VALID=0 WHERE ID=44;
select VALID FROM BORROW;
DELETE FROM BORROW WHERE ID=41;
DELETE FROM BOOK WHERE ID=2;
DROP TABLE USERPASS;
CREATE TABLE USERPASS(ID NUMBER PRIMARY KEY ,USERNAME NVARCHAR2(10), PASSWORD NVARCHAR2(10),ACTIVE NUMBER(1)) ;
CREATE SEQUENCE USERPASS_SEQ START WITH 1 INCREMENT BY 1;
INSERT INTO USERPASS VALUES(USERPASS_SEQ.nextval,'AMIN','1377',1);
INSERT INTO USERPASS VALUES (USERPASS_SEQ.nextval,'EMAD','1383',0);
SELECT ACTIVE FROM USERPASS WHERE USERNAME='AMIN' AND PASSWORD='1377';
DELETE FROM BOOK WHERE ID=43;
DELETE FROM BORROW WHERE VALID=0;
SELECT BOOK_ID FROM BORROW WHERE ID=41;
SELECT NAME,LAST_NAME FROM BORROW_INFO WHERE borrow_iD=42;